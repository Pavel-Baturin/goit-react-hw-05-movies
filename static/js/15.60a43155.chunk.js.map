{"version":3,"file":"static/js/15.60a43155.chunk.js","mappings":"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","sources":["components/ApiService/ApiService.js","webpack://goit-react-hw-05-movies/./src/components/views/MoviesPage/MoviesPage.module.css?1a47","components/views/MoviesPage/MoviesPage.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASIC_URL = 'https://api.themoviedb.org';\nconst KEY = 'd248c3817d332dfccb440b9afc9f42a3';\n\nexport const ApiService = class {\n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchTrendingFilms(page) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/trending/movie/day?api_key=${KEY}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async fetchMovies(searchedMovies, page) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/search/movie?api_key=${KEY}&language=en-US&query=${searchedMovies}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async getMovieDetails(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}?api_key=${KEY}`\n    );\n    return response.data;\n  }\n\n  async getMovieDetailsCast(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}/credits?api_key=${KEY}`\n    );\n    return response.data.cast;\n  }\n\n  async getMovieDetailsReviews(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}/reviews?api_key=${KEY}`\n    );\n    return response.data.results;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__D5iFr\",\"buttonBack\":\"MoviesPage_buttonBack__7Dbmz\",\"input\":\"MoviesPage_input__LwF1O\",\"gallery\":\"MoviesPage_gallery__6iU22\",\"film\":\"MoviesPage_film__P5+G1\",\"thumb\":\"MoviesPage_thumb__y8ggn\",\"link\":\"MoviesPage_link__hklBN\",\"navigation\":\"MoviesPage_navigation__-uyu2\",\"button\":\"MoviesPage_button__hzqpU\",\"page\":\"MoviesPage_page__SdBnL\"};","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ApiService } from '../../ApiService/ApiService';\nimport s from './MoviesPage.module.css';\nimport poster from '../images/film-null@1x.jpg';\n\nconst apiService = new ApiService();\nconst BASIC_URL = 'https://image.tmdb.org/t/p/w342';\n\nexport default function MoviesPage() {\n  const [input, setInput] = useState('');\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState(\n    JSON.parse(localStorage.getItem('movies')) ?? []\n  );\n\n  const handleInputChange = e => {\n    setInput(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (input.trim() === '') {\n      alert('Введите запрос в поле поиска!');\n      return;\n    }\n    setSearch(input);\n  };\n\n  const incrementPage = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const decrementPage = () => {\n    setPage(prevPage => prevPage - 1);\n  };\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    apiService\n      .fetchMovies(search, page)\n      .then(setMovies)\n      .then(\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        })\n      )\n      .catch(error => console.log('Error: ', error.response.status));\n  }, [search, page]);\n\n  useEffect(() => {\n    localStorage.setItem('movies', JSON.stringify(movies));\n  }, [movies]);\n\n  return (\n    <>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input\n          className={s.input}\n          type=\"text\"\n          name=\"search\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images movies\"\n          value={input}\n          onChange={handleInputChange}\n        />\n        <button type=\"submit\" className={s.button}>\n          Search\n        </button>\n      </form>\n      <ul className={s.gallery}>\n        {movies.length !== 0 &&\n          movies.map(movie => (\n            <li key={movie.id} className={s.film}>\n              <div className={s.thumb}>\n                <img\n                  src={\n                    movie.poster_path\n                      ? `${BASIC_URL}${movie.poster_path}`\n                      : `${poster}`\n                  }\n                  alt={movie.original_title}\n                />\n              </div>\n              <Link to={`/movies/${movie.id}`} className={s.link}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n      {movies.length !== 0 && (\n        <div className={s.navigation}>\n          <button\n            type=\"button\"\n            disabled={page < 2}\n            onClick={decrementPage}\n            className={s.button}\n          >\n            prev\n          </button>\n          <p className={s.page}>{page}</p>\n          <button\n            type=\"button\"\n            disabled={movies.length < 19}\n            onClick={incrementPage}\n            className={s.button}\n          >\n            next\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["BASIC_URL","KEY","ApiService","this","page","axios","response","data","results","searchedMovies","movieId","cast","apiService","MoviesPage","useState","input","setInput","search","setSearch","setPage","JSON","parse","localStorage","getItem","movies","setMovies","useEffect","fetchMovies","then","window","scrollTo","top","behavior","catch","error","console","log","status","setItem","stringify","className","s","onSubmit","e","preventDefault","trim","alert","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","length","map","movie","src","poster_path","poster","alt","original_title","to","id","title","disabled","onClick","prevPage"],"sourceRoot":""}