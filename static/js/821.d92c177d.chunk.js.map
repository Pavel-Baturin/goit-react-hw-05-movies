{"version":3,"file":"static/js/821.d92c177d.chunk.js","mappings":"+OAEMA,EAAY,6BACZC,EAAM,mCAECC,EAAU,WACrB,cAAe,eACbC,KAAKC,KAAO,EAFO,oFAKrB,WAAyBA,GAAzB,uFACyBC,IAAAA,IAAA,UAClBL,EADkB,yCACwBC,EADxB,iBACoCG,IAF7D,cACQE,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CALqB,mHAYrB,WAAkBC,EAAgBL,GAAlC,uFACyBC,IAAAA,IAAA,UAClBL,EADkB,mCACkBC,EADlB,iCAC8CQ,EAD9C,iBACqEL,IAF9F,cACQE,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CAZqB,yHAmBrB,WAAsBE,GAAtB,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,oBACsBT,IAF/C,cACQK,EADR,yBAISA,EAASC,MAJlB,2CAnBqB,2HA0BrB,WAA0BG,GAA1B,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,4BAC8BT,IAFvD,cACQK,EADR,yBAISA,EAASC,KAAKI,MAJvB,2CA1BqB,8HAiCrB,WAA6BD,GAA7B,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,4BAC8BT,IAFvD,cACQK,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CAjCqB,+D,8GCJvB,EAA0B,0BAA1B,EAA2D,uBAA3D,EAA0F,wBAA1F,EAAyH,uBAAzH,EAA6J,6BAA7J,EAAmM,yBAAnM,EAAmO,uB,SCI7NI,EAAa,IAAIV,EAAAA,EAGR,SAASW,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOV,EAAP,KAAaa,EAAb,KACAC,aAAaC,WAAW,UAsBxB,OAZAC,EAAAA,EAAAA,YAAU,WACRR,EACGS,mBAAmBjB,GACnBkB,KAAKN,GACLM,KACCC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,YAGbC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,UAAWF,EAAMtB,SAASyB,aACvD,CAAC3B,KAEF,iCACE,eAAI4B,UAAWC,EAAf,SACqB,IAAlBlB,EAAOmB,QACNnB,EAAOoB,KAAI,SAAAC,GAAK,OACd,gBAAmBJ,UAAWC,EAA9B,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEI,IAAG,UAnCH,mCAmCG,OAAiBD,EAAME,aAC1BC,IAAKH,EAAMI,oBAGf,SAAC,KAAD,CAAMC,GAAE,kBAAaL,EAAMM,IAAMV,UAAWC,EAA5C,SACGG,EAAMO,UARFP,EAAMM,SAaF,IAAlB3B,EAAOmB,SACN,iBAAKF,UAAWC,EAAhB,WACE,mBACEW,KAAK,SACLC,SAAUzC,EAAO,EACjB0C,QAvCY,WACpB7B,GAAQ,SAAA8B,GAAQ,OAAIA,EAAW,MAuCvBf,UAAWC,EAJb,mBAQA,cAAGD,UAAWC,EAAd,SAAuB7B,KACvB,mBACEwC,KAAK,SACLC,SAAU9B,EAAOmB,OAAS,GAC1BY,QApDY,WACpB7B,GAAQ,SAAA8B,GAAQ,OAAIA,EAAW,MAoDvBf,UAAWC,EAJb","sources":["components/ApiService/ApiService.js","webpack://goit-react-hw-05-movies/./src/components/views/HomePage/HomePage.module.css?4397","components/views/HomePage/HomePage.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASIC_URL = 'https://api.themoviedb.org';\r\nconst KEY = 'd248c3817d332dfccb440b9afc9f42a3';\r\n\r\nexport const ApiService = class {\r\n  constructor() {\r\n    this.page = 1;\r\n  }\r\n\r\n  async fetchTrendingFilms(page) {\r\n    const response = await axios.get(\r\n      `${BASIC_URL}/3/trending/movie/day?api_key=${KEY}&page=${page}`\r\n    );\r\n    return response.data.results;\r\n  }\r\n\r\n  async fetchMovies(searchedMovies, page) {\r\n    const response = await axios.get(\r\n      `${BASIC_URL}/3/search/movie?api_key=${KEY}&language=en-US&query=${searchedMovies}&page=${page}`\r\n    );\r\n    return response.data.results;\r\n  }\r\n\r\n  async getMovieDetails(movieId) {\r\n    const response = await axios.get(\r\n      `${BASIC_URL}/3/movie/${movieId}?api_key=${KEY}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getMovieDetailsCast(movieId) {\r\n    const response = await axios.get(\r\n      `${BASIC_URL}/3/movie/${movieId}/credits?api_key=${KEY}`\r\n    );\r\n    return response.data.cast;\r\n  }\r\n\r\n  async getMovieDetailsReviews(movieId) {\r\n    const response = await axios.get(\r\n      `${BASIC_URL}/3/movie/${movieId}/reviews?api_key=${KEY}`\r\n    );\r\n    return response.data.results;\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"HomePage_gallery__-BA7c\",\"film\":\"HomePage_film__xH-NU\",\"thumb\":\"HomePage_thumb__YsRsA\",\"link\":\"HomePage_link__cbscm\",\"navigation\":\"HomePage_navigation__dcLFI\",\"button\":\"HomePage_button__n0jZ0\",\"page\":\"HomePage_page__8N9G7\"};","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ApiService } from '../../ApiService/ApiService';\r\nimport s from './HomePage.module.css';\r\n\r\nconst apiService = new ApiService();\r\nconst BASIC_URL = 'https://image.tmdb.org/t/p/w342';\r\n\r\nexport default function HomePage() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  localStorage.removeItem('movies');\r\n\r\n  const incrementPage = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const decrementPage = () => {\r\n    setPage(prevPage => prevPage - 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    apiService\r\n      .fetchTrendingFilms(page)\r\n      .then(setMovies)\r\n      .then(\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth',\r\n        })\r\n      )\r\n      .catch(error => console.log('Error: ', error.response.status));\r\n  }, [page]);\r\n  return (\r\n    <>\r\n      <ul className={s.gallery}>\r\n        {movies.length !== 0 &&\r\n          movies.map(movie => (\r\n            <li key={movie.id} className={s.film}>\r\n              <div className={s.thumb}>\r\n                <img\r\n                  src={`${BASIC_URL}${movie.poster_path}`}\r\n                  alt={movie.original_title}\r\n                />\r\n              </div>\r\n              <Link to={`/movies/${movie.id}`} className={s.link}>\r\n                {movie.title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {movies.length !== 0 && (\r\n        <div className={s.navigation}>\r\n          <button\r\n            type=\"button\"\r\n            disabled={page < 2}\r\n            onClick={decrementPage}\r\n            className={s.button}\r\n          >\r\n            prev\r\n          </button>\r\n          <p className={s.page}>{page}</p>\r\n          <button\r\n            type=\"button\"\r\n            disabled={movies.length < 19}\r\n            onClick={incrementPage}\r\n            className={s.button}\r\n          >\r\n            next\r\n          </button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["BASIC_URL","KEY","ApiService","this","page","axios","response","data","results","searchedMovies","movieId","cast","apiService","HomePage","useState","movies","setMovies","setPage","localStorage","removeItem","useEffect","fetchTrendingFilms","then","window","scrollTo","top","behavior","catch","error","console","log","status","className","s","length","map","movie","src","poster_path","alt","original_title","to","id","title","type","disabled","onClick","prevPage"],"sourceRoot":""}