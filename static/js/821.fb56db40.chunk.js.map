{"version":3,"file":"static/js/821.fb56db40.chunk.js","mappings":"+OAEMA,EAAY,6BACZC,EAAM,mCAECC,EAAU,WACrB,cAAe,eACbC,KAAKC,KAAO,EAFO,oFAKrB,WAAyBA,GAAzB,uFACyBC,IAAAA,IAAA,UAClBL,EADkB,yCACwBC,EADxB,iBACoCG,IAF7D,cACQE,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CALqB,mHAYrB,WAAkBC,EAAgBL,GAAlC,uFACyBC,IAAAA,IAAA,UAClBL,EADkB,mCACkBC,EADlB,iCAC8CQ,EAD9C,iBACqEL,IAF9F,cACQE,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CAZqB,yHAmBrB,WAAsBE,GAAtB,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,oBACsBT,IAF/C,cACQK,EADR,yBAISA,EAASC,MAJlB,2CAnBqB,2HA0BrB,WAA0BG,GAA1B,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,4BAC8BT,IAFvD,cACQK,EADR,yBAISA,EAASC,KAAKI,MAJvB,2CA1BqB,8HAiCrB,WAA6BD,GAA7B,uFACyBL,IAAAA,IAAA,UAClBL,EADkB,oBACGU,EADH,4BAC8BT,IAFvD,cACQK,EADR,yBAISA,EAASC,KAAKC,SAJvB,2CAjCqB,+D,8GCJvB,EAA0B,0BAA1B,EAA2D,uBAA3D,EAA0F,wBAA1F,EAAyH,uBAAzH,EAA6J,6BAA7J,EAAmM,yBAAnM,EAAmO,uB,SCI7NI,EAAa,IAAIV,EAAAA,EAGR,SAASW,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOV,EAAP,KAAaa,EAAb,KACAC,aAAaC,WAAW,UAsBxB,OAZAC,EAAAA,EAAAA,YAAU,WACRR,EACGS,mBAAmBjB,GACnBkB,KAAKN,GACLM,KACCC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,YAGbC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,UAAWF,EAAMtB,SAASyB,aACvD,CAAC3B,KAEF,iCACE,eAAI4B,UAAWC,EAAf,SACqB,IAAlBlB,EAAOmB,QACNnB,EAAOoB,KAAI,SAAAC,GAAK,OACd,gBAAmBJ,UAAWC,EAA9B,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEI,IAAG,UAnCH,mCAmCG,OAAiBD,EAAME,aAC1BC,IAAKH,EAAMI,oBAGf,SAAC,KAAD,CAAMC,GAAE,kBAAaL,EAAMM,IAAMV,UAAWC,EAA5C,SACGG,EAAMO,UARFP,EAAMM,SAaF,IAAlB3B,EAAOmB,SACN,iBAAKF,UAAWC,EAAhB,WACE,mBACEW,KAAK,SACLC,SAAUzC,EAAO,EACjB0C,QAvCY,WACpB7B,GAAQ,SAAA8B,GAAQ,OAAIA,EAAW,MAuCvBf,UAAWC,EAJb,mBAQA,cAAGD,UAAWC,EAAd,SAAuB7B,KACvB,mBACEwC,KAAK,SACLC,SAAU9B,EAAOmB,OAAS,GAC1BY,QApDY,WACpB7B,GAAQ,SAAA8B,GAAQ,OAAIA,EAAW,MAoDvBf,UAAWC,EAJb","sources":["components/ApiService/ApiService.js","webpack://goit-react-hw-05-movies/./src/components/views/HomePage/HomePage.module.css?4397","components/views/HomePage/HomePage.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASIC_URL = 'https://api.themoviedb.org';\nconst KEY = 'd248c3817d332dfccb440b9afc9f42a3';\n\nexport const ApiService = class {\n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchTrendingFilms(page) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/trending/movie/day?api_key=${KEY}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async fetchMovies(searchedMovies, page) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/search/movie?api_key=${KEY}&language=en-US&query=${searchedMovies}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async getMovieDetails(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}?api_key=${KEY}`\n    );\n    return response.data;\n  }\n\n  async getMovieDetailsCast(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}/credits?api_key=${KEY}`\n    );\n    return response.data.cast;\n  }\n\n  async getMovieDetailsReviews(movieId) {\n    const response = await axios.get(\n      `${BASIC_URL}/3/movie/${movieId}/reviews?api_key=${KEY}`\n    );\n    return response.data.results;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"HomePage_gallery__R4B9i\",\"film\":\"HomePage_film__gkb4F\",\"thumb\":\"HomePage_thumb__y8iLd\",\"link\":\"HomePage_link__c9AB7\",\"navigation\":\"HomePage_navigation__Sxez2\",\"button\":\"HomePage_button__ViT9H\",\"page\":\"HomePage_page__hQtTH\"};","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ApiService } from '../../ApiService/ApiService';\nimport s from './HomePage.module.css';\n\nconst apiService = new ApiService();\nconst BASIC_URL = 'https://image.tmdb.org/t/p/w342';\n\nexport default function HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  localStorage.removeItem('movies');\n\n  const incrementPage = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const decrementPage = () => {\n    setPage(prevPage => prevPage - 1);\n  };\n\n  useEffect(() => {\n    apiService\n      .fetchTrendingFilms(page)\n      .then(setMovies)\n      .then(\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        })\n      )\n      .catch(error => console.log('Error: ', error.response.status));\n  }, [page]);\n  return (\n    <>\n      <ul className={s.gallery}>\n        {movies.length !== 0 &&\n          movies.map(movie => (\n            <li key={movie.id} className={s.film}>\n              <div className={s.thumb}>\n                <img\n                  src={`${BASIC_URL}${movie.poster_path}`}\n                  alt={movie.original_title}\n                />\n              </div>\n              <Link to={`/movies/${movie.id}`} className={s.link}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n      {movies.length !== 0 && (\n        <div className={s.navigation}>\n          <button\n            type=\"button\"\n            disabled={page < 2}\n            onClick={decrementPage}\n            className={s.button}\n          >\n            prev\n          </button>\n          <p className={s.page}>{page}</p>\n          <button\n            type=\"button\"\n            disabled={movies.length < 19}\n            onClick={incrementPage}\n            className={s.button}\n          >\n            next\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["BASIC_URL","KEY","ApiService","this","page","axios","response","data","results","searchedMovies","movieId","cast","apiService","HomePage","useState","movies","setMovies","setPage","localStorage","removeItem","useEffect","fetchTrendingFilms","then","window","scrollTo","top","behavior","catch","error","console","log","status","className","s","length","map","movie","src","poster_path","alt","original_title","to","id","title","type","disabled","onClick","prevPage"],"sourceRoot":""}