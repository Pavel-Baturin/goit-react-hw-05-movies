"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[821],{1007:function(e,t,n){n.d(t,{s:function(){return f}});var r=n(5861),a=n(5671),c=n(3144),s=n(7757),o=n.n(s),i=n(4569),u=n.n(i),l="https://api.themoviedb.org",p="d248c3817d332dfccb440b9afc9f42a3",f=function(){function e(){(0,a.Z)(this,e),this.page=1}return(0,c.Z)(e,[{key:"fetchTrendingFilms",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l,"/3/trending/movie/day?api_key=").concat(p,"&page=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMovies",value:function(){var e=(0,r.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l,"/3/search/movie?api_key=").concat(p,"&language=en-US&query=").concat(t,"&page=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l,"/3/movie/").concat(t,"?api_key=").concat(p));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieDetailsCast",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l,"/3/movie/").concat(t,"/credits?api_key=").concat(p));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieDetailsReviews",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l,"/3/movie/").concat(t,"/reviews?api_key=").concat(p));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},6821:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(8152),a=n(2791),c=n(3504),s=n(1007),o="HomePage_gallery__R4B9i",i="HomePage_film__gkb4F",u="HomePage_thumb__y8iLd",l="HomePage_link__c9AB7",p="HomePage_navigation__Sxez2",f="HomePage_button__ViT9H",v="HomePage_page__hQtTH",h=n(184),d=new s.s;function m(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],m=(0,a.useState)(1),g=(0,r.Z)(m,2),_=g[0],k=g[1];localStorage.removeItem("movies");return(0,a.useEffect)((function(){d.fetchTrendingFilms(_).then(s).then(window.scrollTo({top:0,behavior:"smooth"})).catch((function(e){return console.log("Error: ",e.response.status)}))}),[_]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("ul",{className:o,children:0!==n.length&&n.map((function(e){return(0,h.jsxs)("li",{className:i,children:[(0,h.jsx)("div",{className:u,children:(0,h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w342").concat(e.poster_path),alt:e.original_title})}),(0,h.jsx)(c.rU,{to:"/movies/".concat(e.id),className:l,children:e.title})]},e.id)}))}),0!==n.length&&(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("button",{type:"button",disabled:_<2,onClick:function(){k((function(e){return e-1}))},className:f,children:"prev"}),(0,h.jsx)("p",{className:v,children:_}),(0,h.jsx)("button",{type:"button",disabled:n.length<19,onClick:function(){k((function(e){return e+1}))},className:f,children:"next"})]})]})}}}]);
//# sourceMappingURL=821.fb56db40.chunk.js.map